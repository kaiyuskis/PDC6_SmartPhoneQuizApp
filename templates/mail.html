<!-- base.htmlからの引継ぎ -->
{% extends "base.html" %}

<!-- bodyの中身 -->
{% block body %}
<div class="pt-4">
    <h1 class="text-2xl font-bold text-center">
        ✉️メール
    </h1>
</div>

<section class="p-4">
    {% for video in videos %}
    <a href="/video/{{ video.id }}" class="block p-2 rounded-lg shadow my-3 hover:bg-gray-100">
        <div class="flex flex-col">
            <span class="text-lg">
                ▶️ {{ video.name }}
            </span>
            {% if not status %}
                <p class="text-sm text-green-600">ログインすると視聴履歴が残ります</p>
            {% else %}
                {% for i in status %}
                    {% if video.id==i.video_id %}
                        {% if i.watched==True %}
                        <p class="text-sm text-green-600">視聴済み</p>
                        {% else %}
                        <p class="text-sm text-red-600">未視聴</p>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
    </a>
    {% endfor %}

    <div class="mt-6">
        <a href="{{ url_for('index') }}" class="block w-full bg-gray-700 text-white text-center text-lg p-3 rounded-lg shadow hover:bg-gray-900 transition-colors">
            戻る
        </a>
    </div>
</section>
{% endblock %}
